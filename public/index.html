<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Banana Client</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="favicon.png">
</head>

<body>
    <div class="options-bar">
        <button class="dropdown-button">API Servers</button>
        <div class="dropdown-panel">
            <h2 class="dropdown-header">API Servers</h2>
            <div class="input-group">
                <label for="kobold-api-server">Kobold:</label>
                <input type="text" id="kobold-api-server" placeholder="Enter kobold server API here"
                    value="http://127.0.0.1:8080/api">
            </div>

            <div class="input-group">
                <label for="banana-api-server">Banana:</label>
                <input type="text" id="banana-api-server" placeholder="Enter banana server API here"
                    value="http://127.0.0.1:8127/api">
            </div>
        </div>
        <button class="dropdown-button">Settings</button>
        <div id="slider-settings" class="dropdown-panel">
            <h2 class="dropdown-header">Token Limits</h2>
            <div class="grid-container">
                <div class="slider-container">
                    <label for="max_length">Response (tokens):</label>
                    <input type="range" id="max_length" data-input-id="max_length-input">
                    <input type="number" id="max_length-input" placeholder="Enter value here">
                </div>

                <div class="slider-container">
                    <label for="max_context_length">Context (tokens):</label>
                    <input type="range" id="max_context_length" data-input-id="max_context_length-input">
                    <input type="number" id="max_context_length-input" placeholder="Enter value here">
                </div>
            </div>
            <h2 class="dropdown-header">Sampling</h2>
            <div class="grid-container">

                <div class="slider-container">
                    <label for="temperature">Temperature:</label>
                    <input type="range" id="temperature" data-input-id="temperature-input">
                    <input type="number" id="temperature-input" placeholder="Enter value here">
                </div>


                <div class="slider-container">
                    <label for="top_k">Top K:</label>
                    <input type="range" id="top_k" data-input-id="top_k-input">
                    <input type="number" id="top_k-input" placeholder="Enter value here">
                </div>

                <div class="slider-container">
                    <label for="top_p">Top P:</label>
                    <input type="range" id="top_p" data-input-id="top_p-input">
                    <input type="number" id="top_p-input" placeholder="Enter value here">
                </div>

                <div class="slider-container">
                    <label for="typical">Typical P:</label>
                    <input type="range" id="typical" data-input-id="typical-input">
                    <input type="number" id="typical-input" placeholder="Enter value here">
                </div>

                <div class="slider-container">
                    <label for="min_p">Min P:</label>
                    <input type="range" id="min_p" data-input-id="min_p-input">
                    <input type="number" id="min_p-input" placeholder="Enter value here">
                </div>

                <div class="slider-container">
                    <label for="top_a">Top A:</label>
                    <input type="range" id="top_a" data-input-id="top_a-input">
                    <input type="number" id="top_a-input" placeholder="Enter value here">
                </div>


                <div class="slider-container">
                    <label for="tfs">TFS:</label>
                    <input type="range" id="tfs" data-input-id="tfs-input">
                    <input type="number" id="tfs-input" placeholder="Enter value here">
                </div>

                <div class="slider-container">
                    <label for="rep_pen">Repetition Penalty:</label>
                    <input type="range" id="rep_pen" data-input-id="rep_pen-input">
                    <input type="number" id="rep_pen-input" placeholder="Enter value here">
                </div>

                <div class="slider-container">
                    <label for="rep_pen_range">Repetition Penalty:</label>
                    <input type="range" id="rep_pen_range" data-input-id="rep_pen_range-input">
                    <input type="number" id="rep_pen_range-input" placeholder="Enter value here">
                </div>

                <!-- <div class="slider-container">
                    <label for="freq-pen-slider">Frequency Penalty:</label>
                    <input type="range" id="freq-pen-slider" data-input-id="freq-pen-input">
                    <input type="number" id="freq-pen-input" placeholder="Enter value here">
                </div>

                <div class="slider-container">
                    <label for="presence-pen-slider">Presence Penalty:</label>
                    <input type="range" id="presence-pen-slider" data-input-id="presence-pen-input">
                    <input type="number" id="presence-pen-input" placeholder="Enter value here">
                </div> -->
            </div>
        </div>
        <button class="dropdown-button">Prompt Settings</button>
        <div class="dropdown-panel">
            <h2 class="dropdown-header">Prompt</h2>

            <div class="input-group">
                <label for="permanent-prompt">Permanent Prompt:</label>
                <textarea id="permanent-prompt" wrap="soft" rows="4"
                    placeholder="Enter your permanent prompt here"></textarea>
            </div>

            <div class="input-group">
                <label for="user-input">User:</label>
                <input type="text" id="user-input" placeholder="Enter user's name here">
            </div>

            <div class="input-group">
                <label for="character-name-input">Character:</label>
                <input type="text" id="character-name-input" placeholder="Enter AI's name here">
            </div>

            <div class="input-group">
                <label for="stop-sequence-input">Stop Sequence:</label>
                <input type="text" id="stop-sequence-input" placeholder="Enter eos token here">
            </div>

        </div>
    </div>
    <div class="three-column-layout">
        <div class="sidebar"></div>
        <div class="main-container">
            <h1>Banana Client</h1>

            <p id="chat-display"></p>

            <div class="input-group">
                <textarea id="prompt-input" wrap="soft" rows="2" placeholder="Enter your prompt here"></textarea>
                <input type="file" id="image-input" style="display: none;" accept="image/*">
                <div id="button-group">
                    <button id="generate-text-button">Generate Text</button>
                    <button id="upload-image-button">Upload Image</button>
                    <button id="clear-chat-button">Clear Chat</button>
                </div>
            </div>

            <div class="input-group">
                <label for="tts-prompt">Text to Speech</label>
                <input type="text" id="tts-prompt" placeholder="Enter text to speech here">

                <div id="button-group">
                    <button id="text-2-speech-button">Text to Speech</button>
                </div>
            </div>

            <div class="input-group">
                <input type="text" id="transcribe-url" placeholder="Enter URL to transcribe"
                    value="https://www.youtube.com/shorts/4HnGbQ-vi8s">

                <div id="button-group">
                    <button id="download-video-button">Download Video</button>
                    <button id="transcribe-url-button">Transcribe URL</button>
                </div>
            </div>

            <div class="input-group">
                <select id="context-input"></select>
                <div id="button-group">
                    <button id="process-context-button">process Context</button>
                    <button id="context-tts-button">context TTS</button>
                    <button id="combine-audio-button">Combine Audio</button>
                    <button id="generate-subs-button">Generate Subs</button>
                    <button id="live2d-button">Live2D</button>
                </div>
            </div>

            <!-- Processing Indicator -->
            <div id="processing-indicator" class="indicator">
                <p>Processing...</p>
            </div>

            <!-- Completion Indicator -->
            <div id="completion-indicator" class="indicator" style="display: none;">
                <p>Request Completed</p>
            </div>

        </div>
        <div class="sidebar"></div>
    </div>
    <script type='module' src='script.js'></script>
</body>

</html>